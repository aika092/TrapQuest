Chastity Cage by Bondage begins here.

A chastity bond is a kind of bondage. A chastity bond is usually unique. A chastity bond is usually crotch-intact. a chastity bond is usually crotch-assless. Understand "chastity" as chastity bond.

To decide which number is the penis-size-cap of (C - a chastity bond): [how long can the penis be inside this device? Mainly used for checking whether penis is visible under skirts or through clothing]
	decide on 0.

Definition: a chastity bond is crotch-pullup: decide no.
Definition: a chastity bond (called C) is application appropriate:
	if early-bondage-check is true and (vagina is an actual target or penis is an actual target), decide no;
	if C is chastity-belt and the pregnancy of the player > 0, decide no;
	if C is fetish appropriate and the coverer of C is nothing:
		unless C is chastity-belt and C is not actually autowearable, decide yes;
	decide no.

To decide which number is the delicateness-influence of (C - a chastity bond):
	decide on 1.

[Some things like chastity cages can allow urination and ejaculation through freely.]
Definition: a chastity bond is urination blocking: decide no.

Figure of male chastity cage plastic is the file "Items/Accessories/Chastity/chastitycage1.png".
Figure of male chastity cage metal is the file "Items/Accessories/Chastity/chastitycage3.png".
Figure of male chastity cage latex is the file "Items/Accessories/Chastity/chastitycage4.png".
Figure of male chastity cage nub is the file "Items/Accessories/Chastity/chastitycage5.png".
Figure of female chastity cage is the file "Items/Accessories/Chastity/chastitycage2.png".

outrageous-chastity is a humiliating situation.
Definition: outrageous-chastity (called A) is applicable:
	if the player is not disgraced and the bimbo of the player < 12 and there is a worn chastity bond and diaper quest is 0, decide yes;
	decide no.
To reflect on (A - outrageous-chastity):
	if there is a worn chastity cage, say "[variable custom style][if the player is horny]I need to cum so badly, but this chastity cage won't let me... I just feel so helpless![otherwise if the analvirgin of the player is 1]But if this chastity cage is stopping me from having sex with my penis, how is this game going to be about sex?[otherwise if the soreness of asshole < 8]This cage-! They've locked away the only manly part of me left.[otherwise]Get this stupid chastity cage off me! My poor [asshole] can't take much more of this...[end if][roman type][line break]";
	otherwise say "[variable custom style][if the player is horny]I need to cum so badly, but this stupid belt won't let me... I just feel so helpless![otherwise if the vaginalvirgin of the player is 1]I guess this chastity belt is preserving my virginity, but getting fucked in the [asshole] isn't preserving my dignity...[otherwise if pregnancy fetish is 1 and the pregnancy of the player is 0]Well I guess having to wear a chastity belt is one way to make sure I don't get pregnant, but it does mean that my [asshole] is the only thing left for monsters and traps...[otherwise if the pregnancy of the player > 0]What the fuck is the point of wearing this chastity belt when I'm already pregnant?![otherwise if the soreness of asshole < 8]I'm not even a virgin, but I'm stuck in this stupid chastity belt! Everything in the game will just want to fuck my [asshole] now...[otherwise]Get this stupid chastity cage off me! My poor [asshole] can't take much more of this...[end if][roman type][line break]".

[!<TheChastityBondPussySlutRule>+

Decreases the chance of vaginal sex.

+!]
This is the chastity bond pussy slut rule:
	if there is a worn chastity bond, decrease the desirability of vagina by 5.
The chastity bond pussy slut rule is listed in the pussy slut eligibility rules.

[Chastity belt]

chastity-belt is a chastity bond. chastity-belt is unique. chastity-belt is metal. The printed name of chastity-belt is "[clothing-title-before]chastity belt[clothing-title-after]". The text-shortcut of chastity-belt is "chab". Understand "belt" as chastity-belt.

To say ClothingDesc of (C - chastity-belt):
	say "A metal chastity belt that completely prevents access to your [genitals], aside from a small opening for you to pee through. The back straps go over each ass cheek, allowing full access to your [asshole].";
	if C is cursed, say "You can feel it slowly making you more and more aroused.";
	say "[variable custom style][if the bimbo of the player < 3][one of]I'm having trouble understanding why the game would want me to wear this.[or]As long as I'm wearing this chastity belt, nothing can touch my genitals.[or]I'd rather it covered more than my crotch, but I can't really complain, I doubt anybody here can rip through solid metal.[in random order][otherwise if the bimbo of the player < 6][one of]Wearing this should make me relieved, but I just feel frustrated...[or]This isn't protecting me, it's just making me want sex![or]I know I shouldn't take this off, but... I want to.[in random order][otherwise if the bimbo of the player < 10][one of]It won't even let me touch my clit...[or]I thought I was supposed to have lots of sex. This is so dumb...[in random order][otherwise if the bimbo of the player < 13][one of]If it's against the rules to use my pussy, I should probably keep this on.[or]This is the game's way of telling me I don't deserve to get fucked in my pussy. It's probably right.[or]My asshole may be free when I wear this, but I can't touch myself when I'm getting fucked![in random order][otherwise][one of]I'm a dirty whore, I don't deserve to have my pussy fucked![or]More anal for me. Tee-hee![or]When this is on, I can't get double penetrated, and that's my favourite way to get fucked![or]If I find someone strong enough to pry this off, I'll probably find somebody with a big cock too![in random order][end if][roman type][line break]".

To say ShortDesc of (C - chastity-belt):
	say "chastity belt".

To decide which number is the initial outrage of (C - chastity-belt):
	decide on 12.

To decide which figure-name is clothing-image of (C - chastity-belt):
	decide on figure of female chastity cage.

Definition: chastity-belt is grey themed: decide yes.
Definition: chastity-belt is fetish appropriate:
	if the player is possessing a vagina, decide yes;
	decide no.

To SexChange (J - chastity-belt):
	if the player is possessing a penis and metal-cage is off-stage:
		say "Your chastity belt morphs into a tight, snug chastity cage.";
		transform J into metal-cage.

Check taking off a sex toy:
	if the size of the noun > 8 and chastity-belt is worn, say "The [noun] is so large that it won't fit through the hole of your [chastity-belt]!" instead.

[Chastity cage]

A chastity cage is a kind of chastity bond. A chastity cage is usually sheer. Understand "cage" as chastity cage. A chastity cage has a number called size. The printed name of a chastity cage is "[clothing-title-before][clothing-material of item described] chastity cage[clothing-title-after]".

To decide which number is the penis-size-cap of (C - a chastity cage):
	decide on 3.

[Chastity cage descriptions will be in this general format]
To say ClothingDesc of (C - a chastity cage):
	say "A tight cage for your penis that stops you from getting an erection or stimulating your penis in any way.";
	say ChastityComment of C.

To say ChastityComment of (C - a chastity cage):
	if C is worn:
		if C is cursed, say "You can feel it slowly making you more and more aroused.";
		say "[variable custom style][if the bimbo of the player < 3][one of]Man, this is so bogus.[or]This is so uncomfortable.[or]Whoever made this game is pretty dumb. If I'm in a chastity cage I won't be able to have any sex![or]This sucks! This place is probably packed with hot girls I can fuck.[in random order][otherwise if the bimbo of the player < 6][one of]This is totally emasculating.[or]There's probably some porno around here if I get horny, but as long as I'm locked up like this it doesn't matter![or]I feel so girly wearing this.[or]Maybe it's a good thing I'm wearing this. I'd be so embarrassed if someone were fucking me and I got hard.[in random order][otherwise if the player is horny and the bimbo of the player < 10][one of]If I can't jack off, how am I supposed to sate myself?[or]At least there's a hole at the end so cum doesn't get trapped in there if I have an orgasm.[in random order][otherwise if the bimbo of the player < 9][one of]I'm honestly kind of glad I have this on. It would be so embarrassing if I got a boner in a place like this.[or]I'm not sure I want to take this off. What if I get a boner and someone sees it?[in random order][otherwise if the bimbo of the player < 12][one of]Only real men should be able to get erections, so I should keep this on.[or]Cocks are only useful for pounding sluts, so it's a good thing I'm locked up.[or]I love [manly-penis]s, but only when they're used to fuck me.[in random order][otherwise][one of]I'm a dirty slut, I don't deserve to get erections.[or]This would keep men from being bothered by my boy clitty when they fuck me![or]As long as I'm wearing this cage, it's like my [sissy-penis] doesn't even exist![in random order][end if][roman type][line break]".

Report examining a chastity cage:
	if debugmode > 0, say "Currently flagged as [unless the noun is pussy covering]NOT [end if]pussy covering.".

To say ShortDesc of (C - a chastity cage):
	say "chastity cage".

Definition: a chastity cage is sissifying: decide yes.
Definition: a chastity cage is transformation-protected: decide no.
Definition: a chastity cage is fetish appropriate:
	if the player is possessing a vagina, decide no;
	if the player is possessing a penis, decide yes;
	decide no.
Definition: chastity cage is removable:
	if sissy cumslut tattoo is worn, decide no;
	decide yes.

To decide which object is the unique-upgrade-target of (C - a chastity cage):
	unless C is nub-cage, decide on nub-cage;
	decide on nothing.

To decide which number is the delicateness-influence of (C - a chastity cage):
	decide on 1.

To decide which number is the strength-influence of (C - a chastity cage):
	if C is cursed, decide on (the arousal of the player - 2000) / 3000;
	decide on 0.

To decide which number is the initial outrage of (C - a chastity cage):
	decide on 18.

To decide which number is the usualAssModesty of (C - a chastity cage):
	decide on 0.

To compute unique summoning of (C - a chastity cage):
	now the size of C is the size of penis.

To compute periodic effect of (C - a chastity cage):
	if the player is not possessing a penis:
		say "Since you no longer have a penis, your [ShortDesc of C] falls to the ground.";
		now C is in the location of the player;
	otherwise if the size of C > the size of penis + 1:
		if C is cursed or sissy cumslut tattoo is worn or the player is getting unlucky:
			say "You feel your [ShortDesc of C] start to vibrate and pulse as it shrinks and squeezes your [sissy-penis] down into a nub.";
			transform C into nub-cage;
			if sissy cumslut tattoo is worn:
				say "Your [sissy cumslut tattoo] heats up for a moment, as if claiming responsibility for this transformation!";
			otherwise if nub-cage is not cursed:
				say GotUnluckyFlav;
		otherwise:
			say "You feel your [ShortDesc of C] slip off your [sissy-penis] to the ground.";
			now C is in the location of the player;

To compute school periodic effect of (C - a chastity cage):
	compute periodic effect of C.

[!<TheChastityCageOrgasmRule>+

If the player orgasms while wearing a chastity cage they could remove, it becomes cursed.

+!]
This is the chastity cage orgasm resolution rule:
	let C be a random worn chastity cage;
	if C is clothing:
		if there is a worn tattoo and diaper quest is 0 and (sissy cumslut tattoo is worn or the number of worn crotch tattoo is 0):
			if sissy cumslut tattoo is not worn:
				say "[bold type]You feel your [MediumDesc of C] become even more stuck in place, [roman type]as a new tattoo appears above it!";
				summon sissy cumslut tattoo;
				try examining sissy cumslut tattoo;
		otherwise if C is not cursed and C is not locked and C is not glued:
			say "[bold type]You feel your [MediumDesc of C] become cursed[one of][or] again[stopping]![roman type][line break]";
			now C is cursed;
			compute summoned quest of C.
The chastity cage orgasm resolution rule is listed last in the orgasm resolution rules.

[A chastity cage is a kind of bondage. A chastity cage is usually unique. A chastity cage is usually sheer. There is 1 chastity cage. The printed name of chastity cage is "[clothing-title-before]chastity [if the player is possessing a penis]cage[otherwise]belt[end if][clothing-title-after]". The text-shortcut of chastity cage is "cha". Chastity cage is usually crotch-assless. Chastity cage is usually crotch-intact. Understand "belt" as chastity cage.
A chastity cage has a number called size.]

[Classic]

plastic-cage is a chastity cage. Understand "plastic" as plastic-cage. plastic-cage is plastic. The text-shortcut of plastic-cage is "pcha".

To say ClothingDesc of (C - plastic-cage):
	say "A tight plastic cage with a tiny slot-like opening at the end. It stops you from getting an erection or stimulating your penis in any way.";
	say ChastityComment of C.

Definition: plastic-cage is pink themed: decide yes.

To decide which figure-name is clothing-image of (C - a plastic-cage):
	decide on figure of male chastity cage plastic.

[metal]

metal-cage is a chastity cage. Understand "metal" as metal-cage. The text-shortcut of metal-cage is "mcha".

To say ClothingDesc of (C - metal-cage):
	say "A rigid cage made of cold, hard metal. [if C is worn]It has your penis under complete lockdown, preventing it from getting hard or receiving stimulation in any way. You also feel like it might be preventing your penis from getting any bigger.[otherwise]If you put it on, there's no way you'll be able to get hard or stimulate yourself in any way. It may even prevent your penis from getting bigger at all.[end if]";
	say ChastityComment of C.

To SexChange (J - metal-cage):
	if the player is not possessing a penis and chastity-belt is off-stage:
		say "Your chastity cage morphs into a tight, snug chastity belt. ";
		transform J into chastity-belt.

To decide which figure-name is clothing-image of (C - a metal-cage):
	decide on figure of male chastity cage metal.

[transparent latex]

latex-cage is a chastity cage. Understand "latex" as latex-cage. latex-cage is latex. The text-shortcut of latex-cage is "lcha".

To say ClothingDesc of (C - latex-cage):
	say "A transparent cage made of solid latex. It contours perfectly to your penis, preventing you from getting hard or touching yourself while doing nothing to conceal it.";
	say ChastityComment of C.

To decide which figure-name is clothing-image of (C - a latex-cage):
	decide on figure of male chastity cage latex.

To compute periodic effect of (C - latex-cage):
	if the player is not possessing a penis:
		say "Since you no longer have a penis, your [ShortDesc of C] falls to the ground.";
		now C is in the location of the player;
	otherwise if the size of C > the size of penis + 1:
		if the player is getting unlucky:
			say "You feel your [ShortDesc of C] start to vibrate and pulse as it shrinks and squeezes your [sissy-penis] down into a nub.";
			transform C into nub-cage;
			say GotUnluckyFlav;
		otherwise if C is cursed or sissy cumslut tattoo is worn:
			say "Your [ShortDesc of C] shrinks to match the new size of your [ShortDesc of penis]!";
			now the size of C is the size of penis;
		otherwise:
			say "You feel your [ShortDesc of C] slip off your [sissy-penis] to the ground.";
			now C is in the location of the player;


[leather-cage is a chastity cage. Understand "latex" as leather-cage. leather-cage is leather.

To say ClothingDesc of (C - latex-cage):
	say "A chastity cage made of hardened leather. A tiny black pentagram surrounds the small opening at the tip. It completely prevents you from getting hard or stimulating your penis in anyway.";
	say ChastityComment of C.]

[Demonic is enough of an upside. Probably.]
[To uniquely set up (C - latex-cage):
	now the magic-type of C is dominance.]
[Definition: leather-cage is demonic: decide yes.]

[nub cage]
nub-cage is a chastity cage. Understand "nub" as nub-cage. a nub-cage has a number called nub-charge. The text-shortcut of nub-cage is "nuc".

Definition: nub-cage is fetish appropriate: decide no.
Definition: nub-cage is transformation-protected: decide yes.

To decide which number is the penis-size-cap of (C - nub-cage):
	decide on 1.

To compute post transformation effect of (C - nub-cage):
	now the size of C is the size of penis.

To say ClothingDesc of (C - nub-cage):
	say "A cage that squishes your [ShortDesc of penis] down into a little nub. [if C is worn]This cage is so small that even when soft you can still feel it squeezing, which is frustratingly arousing. [end if]You feel that wearing this for any significant length of time may permanently train your [sissy-penis] to remain soft at all times.[line break]";
	if the bimbo of the player > 11:
		say HumiliatingDesc of C;
	otherwise:
		say ChastityComment of C;

To say HumiliatingDesc of (C - nub-cage):
	if the bimbo of the player > 11, say "[variable custom style][one of]Fuck it's so hot that my [sissy-penis] is so tiny and broken, every time I think of [manly-penis] I start leaking.[or]The only fucking I'll be doing from now on is with my sissy mouth or [asshole].[or]My [sissy-penis] [if the player is possessing a scrotum]and tiny balls are[otherwise]is[end if] only for my superior's enjoyment now, if I want to cum I need to find some big [manly-penis] to help me.[or]I could never satisfy a woman with my [sissy-penis] anyway, maybe I could find a [if lady fetish is 2]giant [manly-penis] to rail[otherwise if the player is possessing a scrotum]hot mistress to squeeze my sissy balls and peg[otherwise]hot mistress to peg[end if] my [asshole].[or]Ahhh, no matter how long I wear this thing it still squeezes and makes my [sissy-penis] leak.[or]The longer I wear this cage, the more broken my [sissy-penis] gets, and the more I realise my place in life is on my knees worshipping giant [manly-penis][if bukkake fetish is 1] or slurping some stud's delicious [semen] from a superior woman's [vagina][end if].[in random order][roman type][line break]".

To decide which figure-name is clothing-image of (C - nub-cage):
	decide on figure of male chastity cage nub.

To compute periodic effect of (C - nub-cage):
	if the player is not possessing a penis:
		say "Since you no longer have a penis, your [ShortDesc of C] falls to the ground.";
		now C is in the location of the player;
	otherwise if the size of C > the size of penis and (C is cursed or sissy cumslut tattoo is worn):
		say "Your [ShortDesc of C] shrinks[if the size of penis > min penis size], clearly planning to soon squeeze your [ShortDesc of penis] down even further[otherwise] down to the size of your [ShortDesc of penis], satisfied with its new smaller size[end if]!";
		now the size of C is the size of penis;
	otherwise:
		increase the nub-charge of nub-cage by 1;
		if the nub-charge of nub-cage > a random number between 35 and 50:
			if the size of penis > min penis size:
				say "Your [ShortDesc of C] starts to squeeze your [sissy-penis] down even smaller!";
				passively stimulate penis from C;
				PenisDown 1;
			otherwise if the penis-obedience of penis < 10:
				PenisObedienceUp 1;
				say "Your [ShortDesc of C] starts to squeeze and vibrate, but your [sissy-penis] can only leak in its tiny prison!";
				say HumiliatingDesc of C;
			otherwise:
				say "[one of][bold type]Your [ShortDesc of C] has already completely broken your [sissy-penis]. But it still occasionally vibrates to remind you of that fact![roman type][line break][or]Your [ShortDesc of C] suddenly vibrates again, stimulating your [sissy-penis].[stopping]";
				passively stimulate penis from C;
				say HumiliatingDesc of C;
			now the nub-charge of nub-cage is 0;



Chapter - Wearability

chastity belt wearability rules is a rulebook. The wearability rules of chastity-belt is usually the chastity belt wearability rules.
chastity cage wearability rules is a rulebook. The wearability rules of a chastity cage is usually chastity cage wearability rules.

This is the chastity bond already worn rule:
	repeat with O running through worn chastity bond:
		if summoning is 0 and autowear is false, say "You can't wear that because [if O is wearing-target]you're already wearing it[otherwise]you're already wearing the [printed name of O][end if]!";
		rule fails.
The chastity bond already worn rule is listed in the chastity cage wearability rules.
The chastity bond already worn rule is listed in the chastity belt wearability rules.

This is the can't phase chastity through clothes rule:
	if summoning is 0 and the player is pussy protected:
		say "You can't get the [ShortDesc of wearing-target] on through your [ShortDesc of random top level protection clothing].";
		rule fails.
The can't phase chastity through clothes rule is listed in the chastity cage wearability rules.
The can't phase chastity through clothes rule is listed in the chastity belt wearability rules.

This is the can't cage ken rule:
	if the player is not possessing a penis:
		if summoning is 0 and autowear is false, say "But you don't have a penis right now!";
		rule fails.
The can't cage ken rule is listed in the chastity cage wearability rules.

This is the can't cage erection rule:
	if penis is penis-erect:
		if summoning is 0 and autowear is false and the size of penis > 3:
			say "Your penis is too hard to fit into a cage right now!";
			rule fails;
		otherwise:
			[if summoning is 0 and autowear is false, say "[line break]Your [player-penis] softens as it is forced into the cage.[line break]";][if the player's penis is small enough, we can force it.] [but we can't put this flavour here because what if a later rule prevents it being worn?]
			now penis is not penis-erect.
The can't cage erection rule is listed in the chastity cage wearability rules.

This is the cage too big rule:
	if the player is possessing a penis and the size of wearing-target > the size of penis + 1 and summoning is 0:
		if autowear is false, say "The cage is too big for your [ShortDesc of penis] - it'd just slide right off!";
		rule fails.
The cage too big rule is listed in the chastity cage wearability rules.

This is the players in chastity can't wear vagina plugging clothes rule:
	if chastity-belt is worn and wearing-target is vagina plugging:
		if summoning is 0 and autowear is false, say "You can't get the plug in past your chastity belt, and so can't wear these.";
		rule fails.
The players in chastity can't wear vagina plugging clothes rule is listed in the global wearability rules.

Chastity Cage ends here.
